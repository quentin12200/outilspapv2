# Configuration de l'application PAP/CSE

# === Base de données ===
# URL SQLite locale (par défaut)
DATABASE_URL=sqlite:///./papcse.db

# URL de téléchargement automatique de la base depuis GitHub Release
# Si la base n'existe pas au démarrage, elle sera téléchargée automatiquement
DB_URL=https://github.com/quentin12200/outilspapv2/releases/download/v1.0.0/papcse.db

# Hash SHA256 de la base (optionnel, pour vérifier l'intégrité)
DB_SHA256=2a699fe2236005cadc756ec59f8f21fa35fd542262823b9998b7fc49192d445d

# Token GitHub si le repo est privé (optionnel)
# DB_GH_TOKEN=

# Échouer si le hash ne correspond pas (par défaut : warning seulement)
# DB_FAIL_ON_HASH_MISMATCH=false

# === Invitations PAP automatiques ===
# URL d'un fichier Excel (.xlsx) contenant les invitations C5 à précharger
# Si non défini, l'application tentera de déduire un fichier situé sur la même
# release que `DB_URL` (ex. `papcse-invitations.xlsx`).
# INVITATIONS_URL=https://github.com/quentin12200/outilspapv2/releases/download/v1.0.0/invitations.xlsx

# Hash SHA256 optionnel du fichier pour vérifier l'intégrité
# INVITATIONS_SHA256=

# Token GitHub si l'asset est privé (optionnel, défaut : DB_GH_TOKEN)
# INVITATIONS_GH_TOKEN=

# Échouer si le hash des invitations ne correspond pas (défaut : warning)
# INVITATIONS_FAIL_ON_HASH_MISMATCH=false

# === API Sirene (INSEE) ===
# Clé API d'intégration pour l'API Sirene 3.11 (header X-INSEE-Api-Key-Integration)
# Supporte SIRENE_API_KEY ou API_SIRENE_KEY
# SIRENE_API_KEY=
# API_SIRENE_KEY=
# Ancien token OAuth (header Authorization: Bearer ...) - obsolète
# SIRENE_API_TOKEN=

# === Reconstruction automatique de siret_summary ===
# Si true, la table siret_summary sera reconstruite automatiquement au démarrage
# si elle est vide. ATTENTION : peut causer des timeouts avec de grandes bases.
# Par défaut (false), utiliser POST /api/build/summary pour lancer en tâche de fond.
AUTO_BUILD_SUMMARY_ON_STARTUP=false

# === Mode debug ===
# DEBUG=false
